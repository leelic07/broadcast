webpackJsonp([3],{Scwj:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("34v0"),a=e.n(o),n=e("EcfS"),r={data:function(){return{edit:"BroadcastEdit",isModification:!1,dialogFormVisible:!1,formLabelWidth:"80px"}},watch:{updateRecordingResult:function(t){200===t.code&&(this.isModification=!1,this.getRecordingById(this.$route.params.id))},broadForEdit:function(){this.isModification=!1},recordingDetail:function(){this.dialogFormVisible=!0}},computed:a()({},Object(n.c)({broadForEdit:"broadForEdit",updateRecordingResult:"updateRecordingResult",recordingDetail:"recordingDetail"})),methods:a()({},Object(n.b)({getRecordingById:"getRecordingById",updateRecording:"updateRecording",getRecordingDetail:"getRecordingDetail"}),{modify:function(){this.isModification&&this.updateRecording(this.broadForEdit),this.isModification=!this.isModification},cancel:function(){this.getRecordingById(this.$route.params.id)},back:function(){this.$router.push({path:"/broadcast"})},showDetail:function(t){this.getRecordingDetail(t)}}),mounted:function(){this.getRecordingById(this.$route.params.id)}},s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-row",{staticClass:"broadcast-edit-container"},[e("el-col",{attrs:{span:16,offset:4}},[e("el-card",[e("el-col",[e("el-button",{attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("返回")]),t._v(" "),e("h2",[e("i",{staticClass:"el-icon-edit"}),t._v("\n          编辑记录\n        ")])],1),t._v(" "),e("el-form",{attrs:{"label-position":"top",model:t.broadForEdit}},[e("el-form-item",[e("el-tag",[e("i",{staticClass:"el-icon-time"}),t._v("\n            时间\n          ")]),t._v(" "),e("h3",[t._v(t._s(t._f("Date")(t.broadForEdit.timestamp)))])],1),t._v(" "),e("el-form-item",[e("el-tag",[e("i",{staticClass:"el-icon-caret-right"}),t._v("\n            播放\n          ")]),t._v(" "),t.broadForEdit.filename?e("el-col",[e("audio",{attrs:{src:t.$_baseURL+t.broadForEdit.filename,controls:""}},[t._v("\n              您的浏览器不支持播放音频文件\n            ")])]):t._l(t.broadForEdit.refs,function(i,o){return e("el-col",{key:o},[e("el-col",{attrs:{span:22}},[e("audio",{attrs:{src:i.filename,controls:""}})]),t._v(" "),e("el-col",{attrs:{span:2}},[e("el-button",{attrs:{type:"text"},on:{click:function(e){t.showDetail(i.id)}}},[t._v("详情")])],1)],1)})],2),t._v(" "),e("el-form-item",[e("el-tag",[e("i",{staticClass:"el-icon-document"}),t._v("\n            内容\n          ")]),t._v(" "),t.isModification?t._e():e("p",[t._v(t._s(t.broadForEdit.content||"暂无内容"))]),t._v(" "),t.isModification?e("el-input",{attrs:{type:"textarea",size:"meduim",autosize:{minRows:4,maxRows:35},placeholder:"请输入内容"},model:{value:t.broadForEdit.content,callback:function(i){t.$set(t.broadForEdit,"content",i)},expression:"broadForEdit.content"}}):t._e(),t._v(" "),t.isModification?e("el-button",{attrs:{type:"warning",plain:"",size:"mini",icon:"el-icon-refresh"},on:{click:t.cancel}},[t._v("取消")]):t._e(),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary",plain:"",icon:"el-icon-edit"},on:{click:t.modify}},[t._v(t._s(t.isModification?"修改":"编辑"))])],1)],1)],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"记录详情",visible:t.dialogFormVisible},on:{"update:visible":function(i){t.dialogFormVisible=i}}},[e("el-form",{attrs:{model:t.recordingDetail}},[e("el-form-item",{attrs:{"label-width":t.formLabelWidth}},[e("el-tag",[e("i",{staticClass:"el-icon-time"}),t._v("\n          时间\n        ")]),t._v(" "),e("p",[t._v(t._s(t._f("Date")(t.recordingDetail.timestamp)))])],1),t._v(" "),e("el-form-item",{attrs:{"label-width":t.formLabelWidth}},[e("el-tag",[e("i",{staticClass:"el-icon-document"}),t._v("\n          内容\n        ")]),t._v(" "),e("p",[t._v(t._s(t.recordingDetail.content||"暂无内容"))])],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},l=e("Aizv")(r,s,!1,null,null,null);i.default=l.exports}});
//# sourceMappingURL=3.4ebd03e7499e7cc08075.js.map